import { GameStoreName, GameStoreContext } from "src/types/store";

export const PULSATING_CLASSNAME = "nonsteam-badge-pulsing";

export enum GameStoreProp {
  NAME = "name",
  GRADIENT = "gradient",
  ICON = "icon",
}

interface BadgeStyleProps {
  name: string;
  gradient: string;
  icon: string;
}

/**
 * Get the badge styles for each context.
 */
function getBadgeStyle(
  gameStore: GameStoreName,
  prop: GameStoreProp,
  context: GameStoreContext,
): string {
  const sizes: Record<string, { width: number; height: number }> = {
    library: {
      width: 28,
      height: 28,
    },
    details: {
      width: 64,
      height: 64,
    },
    home: {
      width: 32,
      height: 32,
    },
    search: {
      width: 24,
      height: 24,
    },
  };

  const width = sizes[context]?.width || 28;
  const height = sizes[context]?.height || 28;

  const badgeStyles = {
    gog: {
      name: "GOG",
      gradient: "linear-gradient(135deg, #86328A 0%, #B24592 100%)",
      icon: `<svg width="${width}" height="${height}" viewBox="0 0 34 31" fill="white" xmlns="http://www.w3.org/2000/svg"><path d="M31 31H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h28a3 3 0 0 1 3 3v25a3 3 0 0 1-3 3ZM4 24.5A1.5 1.5 0 0 0 5.5 26H11v-2H6.5a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5H11v-2H5.5A1.5 1.5 0 0 0 4 19.5Zm8-18A1.5 1.5 0 0 0 10.5 5h-5A1.5 1.5 0 0 0 4 6.5v5A1.5 1.5 0 0 0 5.5 13H9v-2H6.5a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H4v2h6.5a1.5 1.5 0 0 0 1.5-1.5Zm0 13v5a1.5 1.5 0 0 0 1.5 1.5h5a1.5 1.5 0 0 0 1.5-1.5v-5a1.5 1.5 0 0 0-1.5-1.5h-5a1.5 1.5 0 0 0-1.5 1.5Zm9-13A1.5 1.5 0 0 0 19.5 5h-5A1.5 1.5 0 0 0 13 6.5v5a1.5 1.5 0 0 0 1.5 1.5h5a1.5 1.5 0 0 0 1.5-1.5Zm9 0A1.5 1.5 0 0 0 28.5 5h-5A1.5 1.5 0 0 0 22 6.5v5a1.5 1.5 0 0 0 1.5 1.5H27v-2h-2.5a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H22v2h6.5a1.5 1.5 0 0 0 1.5-1.5ZM30 18h-7.5a1.5 1.5 0 0 0-1.5 1.5V26h2v-5.5a.5.5 0 0 1 .5-.5h1v6h2v-6H28v6h2Zm-11.5-7h-3a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5Zm-4 9h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5Z" fill="white"/></svg>`,
    },
    epic: {
      name: "EPIC",
      gradient: "linear-gradient(135deg, #0078F2 0%, #00A8E8 100%)",
      icon: `<svg width="${width}" height="${height}" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" pointer-events="all" fill="white" viewBox="0 0 2222 2604"><path d="M171.4 1C78.5 6.5 30.4 39.4 10.6 110.8c-5.3 19.1-8.1 38.5-9.7 66.7-.7 13-.9 308.2-.7 939 .3 862.4.4 921.1 2.1 937.5.9 9.6 2.4 22 3.3 27.5 7.2 44.6 36.6 79.5 90.7 107.5 14.6 7.6 25 12.2 99.2 44.2 149.2 64.3 821.5 348.1 849.9 358.7 19.3 7.3 31.1 9.9 50.9 11.3 37.1 2.7 62.9-2.3 101.6-19.3 7.5-3.3 56.6-23.6 109.1-45.1 504.4-206.2 758.9-315 811.3-347.1 56.5-34.6 89.4-85.1 101.4-155.7 1.7-10 1.8-52.1 2.1-925 .2-626.1 0-920.5-.7-933.5-2.4-43.5-9.2-73.9-22.2-99.4-25.1-49.4-69.4-72.2-149.4-77.1C2029.9-.1 191.4-.2 171.4 1zM707 429.5V505H506v253h201v152H506v303h201v151l-176.7-.2-176.8-.3-.3-504.8L353 354h354v75.5zm311.2-74c41.3 4.8 73.1 18.7 96.4 41.9 26 26.1 39.8 59.6 45.6 110.8 1 8.7 1.3 46.9 1.3 167.8 0 171.3.1 167.9-6 196.6-13.4 63.5-50.1 103-109.5 117.8-21.9 5.5-27.4 5.9-84.2 6.3l-52.8.5V1364H758V354h123.8c103.2 0 125.8.2 136.4 1.5zm345.6 503.2-.3 504.8-75.7.3-75.8.2V354h152l-.2 504.7zM1692.2 355c22.7 1.1 36.3 2.9 53.5 7 55.6 13.4 93 46.1 110.7 96.7 4.2 12.1 7.9 28.6 10.2 44.8 1.5 10.6 1.8 26.3 2.1 133.2l.4 121.3h-152l-.3-112.8c-.3-112.1-.4-112.7-2.5-120.4-5.7-20.2-15.6-29.5-35.7-33.3-11.1-2.1-58.5-2.1-67.5 0-16.1 3.8-30 14.5-37 28.6-2.2 4.3-4.8 11.3-5.8 15.6-1.7 7.5-1.8 21.5-1.8 330.3v322.5l2.4 7.9c5.6 18.1 16.6 28.2 36.8 33.8 7.2 2 10.2 2.2 37.3 2.2 27.9.1 29.9 0 37.5-2.2 4.4-1.3 10.1-3.5 12.7-4.9 6.6-3.6 14.3-12.1 17.9-19.6 6-12.9 5.9-11.1 5.9-133.8V960h152v113.2c0 112.8-.5 133.3-3.6 153.3-6.1 39.3-20.7 69.9-43.8 92.3-23.9 23-54.2 36.3-98.1 42.9-10.7 1.6-19.5 1.8-82 1.8-74.2 0-75.4-.1-100.3-5.1-52.2-10.4-88.4-36.8-108.3-78.9-8.1-17.1-12.8-33.8-16.6-59-1.7-11.4-1.8-29.1-1.8-352 0-321 .1-340.7 1.8-352.5 3.5-24.3 9.2-46.1 16.8-63.3 26.4-60 79.7-93.8 153.9-97.6 21.6-1.2 82.7-1.2 105.2-.1zM494.5 1618.5c26.3 4.5 42.8 10.7 63.9 23.7 8.7 5.3 21.6 14.8 21.6 15.8 0 .3-1.7 2.6-3.9 5.1-4.3 4.9-11.5 13.5-29.4 35.1-6.7 8.1-12.5 14.7-12.9 14.8-.4 0-4.4-2.7-9-6-10.8-7.7-26.2-15.5-36.3-18.2-6.6-1.7-11-2.1-25-2.2-16.1-.1-17.5.1-25.6 2.7-27 8.9-46.8 32.4-52.5 62.4-2.1 11-1.4 29.3 1.5 40.3 8.2 31.7 31.4 52.9 64.3 58.6 18.1 3.2 42.9-.3 57.8-8.2l7-3.6V1802h-60v-58h135v129.8l-6.7 5c-12 8.7-18.8 13-28.9 18-34.6 17.4-61.6 23.3-100.8 21.9-27.8-1-46.4-5.6-70.1-17.3-42.2-20.8-70.7-58.3-79.2-104.4-2.1-11.3-2.8-34.8-1.4-47 3-26.5 15-55 32.3-76.7 22.7-28.6 62-50.3 99.8-55.2 4.7-.6 9.6-1.3 11-1.5 5.3-1 38.9.4 47.5 1.9zm1268.9-.4c11 .9 26.3 3.8 39.3 7.3 14.2 3.9 35.9 14.6 49.6 24.4l7.7 5.5-1.6 2.6c-.9 1.4-3.3 4.8-5.4 7.6-3.3 4.5-24.3 34.1-29.9 42.2l-2.2 3.2-6.9-4.4c-27.7-17.7-62.2-27.4-84.5-23.6-15.4 2.6-23.4 12-21.1 24.6 2.1 10.9 13.8 16.4 59.1 27.5 36.6 9 56.5 16.8 71.7 28.3 9 6.9 12.3 10.3 18.2 19.2 11.2 16.8 14.3 43.1 8.1 67.2-7.6 29.2-29.5 50.6-62.6 61.2-48.3 15.4-113.9 7.1-160.3-20.3-9.4-5.6-26.6-18.3-26.6-19.8 0-.9 8.7-11.5 22-26.8 3.6-4.1 9.8-11.4 13.8-16.3 4-4.8 7.5-8.7 7.7-8.7.2 0 5.5 3.4 11.7 7.6 26.1 17.6 53.3 26.4 81.2 26.4 25.7 0 36.6-6.6 36.6-22.1 0-14.8-9.3-19.6-64.5-33-38.4-9.3-59.4-18.8-74.6-33.9-9.6-9.5-14.4-17.3-18.1-29-2-6.6-2.3-9.5-2.3-24.5 0-13.4.4-18.4 1.9-23.9 7.7-28.6 28.5-50.3 58.4-61.1 8.5-3.1 22.7-6.5 31.2-7.5 9.8-1.1 29-1.1 42.4.1zm-938.4 9.6c4.6 10.8 15.1 35.3 21.5 50.3 12.6 29.3 15.9 37 19.5 45.5 2 4.9 6.1 14.4 8.9 21 2.9 6.6 7.7 17.8 10.8 25 3 7.1 8.4 19.5 11.8 27.5 3.5 8 12.2 28.4 19.5 45.5 7.2 17 15.9 37.3 19.2 45 10.4 24.2 10.8 25.2 10.8 25.9 0 .3-18.8.5-41.7.4l-41.7-.3-7.3-18c-4.1-9.9-9-22.2-11-27.3l-3.7-9.2-58.5.2-58.5.3-5.3 13c-2.9 7.1-7.6 18.8-10.5 26-2.9 7.1-5.6 13.6-6.1 14.2-.7 1-10.2 1.3-41.3 1.3-22.2 0-40.4-.3-40.4-.7 0-.8 4.6-11.8 13-31.3 15-34.5 19-43.9 19-44.4 0-.4 2.5-6.1 5.5-12.9 3-6.7 13.5-31.1 23.4-54.2 9.8-23.1 18.6-43.6 19.4-45.5.8-1.9 3.5-8.2 6.1-14 7.5-17.4 17.6-41 21.1-49.5 1.8-4.4 5.3-12.6 7.9-18.3 2.5-5.6 4.6-10.5 4.6-10.8 0-.4 1.2-3.3 2.6-6.5l2.7-5.9h75.4l3.3 7.7zm247 7.5c4.6 7.3 10.6 16.9 13.3 21.3 2.8 4.4 6.7 10.7 8.8 14 2.2 3.3 6.4 10 9.4 15 3.1 4.9 8 12.8 11 17.5 2.9 4.7 6.6 10.5 8.1 13 7.9 13 12.8 20 13.5 19.3.4-.4 5.1-7.8 10.5-16.3 17.9-28.6 46.7-74.4 51.2-81.5 2.4-3.9 5.6-8.9 7-11.3l2.7-4.2h83.5v292h-78l-.2-86.3-.3-86.2-16.3 24.5c-8.9 13.5-26.2 39.7-38.5 58.2-12.2 18.6-22.6 33.6-23.2 33.5-.5-.2-5.6-7.3-11.2-15.8-5.5-8.5-16.7-25.3-24.6-37.4-8-12.1-20.4-31-27.6-42l-13.1-20-.2 85.5-.3 85.5h-77l-.3-145.8-.2-145.7h83.7l8.3 13.2zm514 19.8v33h-158l.2 23.7.3 23.8 70.8.3 70.7.2v62h-142v49l79.8.2 79.7.3v66l-118.2.3-118.3.2v-292h235v33zm-73.1 619.4c-.7.7-400.7 149.6-401.7 149.6-.8 0-350.6-130.2-399.2-148.5-2.9-1.1 64.2-1.4 398.9-1.4 221.3-.1 402.2.1 402 .3z"/><path d="M909 674v185h26.8c42.7 0 52.1-1.8 61.8-11.4 5.4-5.4 8.5-11.9 10.7-22.6.9-4.1 1.2-43.5 1.2-150 0-135.9-.1-145-1.8-152.2-3.7-15.6-11.1-25.6-22.2-29.7-8.4-3.2-19.8-4.1-49.2-4.1H909v185zM779.2 1722.2c-2.3 5.7-8.9 22-14.7 36.3-5.9 14.3-11.8 28.8-13.1 32.2l-2.4 6.3h34c18.7 0 34-.2 34-.3 0-.6-17.8-45.7-19.5-49.4-.7-1.7-4.2-10.2-7.5-19-3.4-8.7-6.3-15.9-6.5-16.1-.1-.2-2.1 4.3-4.3 10z"/></svg>`,
    },
    amazon: {
      name: "AMAZON",
      gradient: "linear-gradient(135deg, #FF9900 0%, #FFB84D 100%)",
      icon: `<svg width="${width}" height="${height}" viewBox="0 0 343 335" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="f9146ffff"><path fill="white" opacity="1.00" d=" M 165.30 1.16 C 172.35 -0.68 180.19 0.63 186.14 4.87 C 193.44 9.93 197.75 19.08 196.63 27.95 C 195.42 40.06 195.15 53.38 201.88 64.07 C 206.08 71.23 210.19 78.45 214.36 85.63 C 219.72 95.12 228.83 102.37 239.23 105.59 C 247.67 108.12 254.92 114.34 258.68 122.31 C 263.93 133.06 262.51 146.69 255.05 156.07 C 246.93 166.74 231.85 171.05 219.24 166.62 C 212.62 164.58 207.89 159.16 201.62 156.43 C 183.52 147.43 162.68 147.15 142.97 148.81 C 132.38 149.60 122.34 153.30 112.27 156.39 C 104.93 158.45 96.54 154.84 92.87 148.19 C 88.02 140.00 91.36 128.19 100.03 124.05 C 107.97 119.81 113.37 112.41 117.88 104.85 C 126.10 90.71 134.22 76.52 142.41 62.37 C 147.15 54.12 147.48 44.29 147.25 35.02 C 147.22 30.34 145.86 25.65 146.91 21.00 C 148.46 11.54 156.01 3.44 165.30 1.16 M 165.44 59.63 C 159.97 61.71 156.88 67.09 153.62 71.60 C 145.55 83.65 138.50 96.39 132.56 109.62 C 129.21 117.31 132.66 127.04 140.00 131.02 C 144.87 133.69 150.60 133.45 155.97 134.03 C 169.95 134.79 184.05 134.78 197.95 132.95 C 205.36 131.94 211.11 125.31 212.03 118.05 C 212.78 113.27 210.57 108.74 208.45 104.60 C 204.63 96.34 199.99 88.49 195.44 80.62 C 191.79 74.44 188.02 68.20 182.95 63.06 C 178.49 58.48 171.30 57.73 165.44 59.63 Z"/></g><g id="f280f32ff"><path fill="white" opacity="1.00" d=" M 1.77 188.43 C 7.69 187.94 13.83 187.36 19.65 188.82 C 19.96 190.53 20.26 192.25 20.26 193.99 C 20.24 232.35 20.25 270.71 20.25 309.06 C 20.27 311.57 20.77 314.57 23.21 315.86 C 26.95 317.99 31.34 316.26 35.37 316.79 C 36.23 320.47 36.13 324.29 35.91 328.04 C 35.93 330.69 32.90 331.38 30.86 331.87 C 23.54 333.26 15.27 333.51 8.84 329.17 C 3.02 325.14 0.83 317.76 0.76 310.98 C 0.73 273.66 0.77 236.33 0.74 199.00 C 0.79 195.46 0.33 191.78 1.77 188.43 Z"/><path fill="white" opacity="1.00" d=" M 177.16 243.90 C 187.28 236.39 199.36 231.13 212.06 230.46 C 220.44 229.90 229.69 231.00 236.27 236.71 C 242.34 241.90 244.62 250.20 244.75 257.93 C 244.76 280.64 244.74 303.35 244.76 326.07 C 244.77 327.78 244.48 329.47 244.15 331.16 C 238.89 332.18 233.47 331.76 228.15 331.63 C 225.42 331.33 225.17 328.23 225.24 326.08 C 225.25 305.39 225.25 284.69 225.25 264.00 C 225.16 259.16 224.11 253.95 220.66 250.34 C 216.84 246.53 211.07 245.84 205.93 246.17 C 195.96 246.57 186.49 250.54 178.24 255.98 C 178.25 279.68 178.25 303.37 178.25 327.07 C 178.24 328.77 178.07 331.51 175.81 331.59 C 171.26 331.92 166.68 331.79 162.12 331.68 C 160.16 331.83 158.73 329.92 159.02 328.06 C 158.99 297.69 158.99 267.32 159.02 236.95 C 158.74 235.11 160.19 233.17 162.13 233.32 C 166.43 233.19 170.82 232.91 175.05 233.88 C 176.15 237.13 176.62 240.53 177.16 243.90 Z"/><path fill="white" opacity="1.00" d=" M 275.32 235.32 C 287.01 231.30 299.55 229.84 311.87 230.53 C 321.19 231.15 331.53 233.75 337.21 241.80 C 341.10 246.86 341.64 253.37 343.00 259.38 L 343.00 328.46 C 340.82 333.69 334.40 331.33 330.03 331.72 C 324.89 331.84 325.70 325.54 324.79 322.11 C 315.47 329.39 304.03 334.62 292.00 334.28 C 282.39 334.35 272.24 330.32 266.91 322.01 C 258.63 308.83 261.60 288.74 275.40 280.40 C 289.89 271.23 308.00 273.98 323.89 277.18 C 323.77 269.47 325.18 261.27 322.02 253.98 C 319.83 248.83 314.00 246.71 308.82 246.22 C 298.08 245.36 287.17 246.66 276.89 249.89 C 274.68 250.53 272.43 251.18 270.10 251.13 C 268.22 248.13 269.08 244.33 269.06 240.97 C 268.93 237.50 272.71 236.34 275.32 235.32 M 290.72 289.77 C 281.53 293.30 279.39 305.89 284.30 313.65 C 287.00 317.86 292.23 319.46 297.00 319.52 C 306.81 319.51 316.16 315.43 323.99 309.75 C 324.00 303.19 324.00 296.62 324.00 290.06 C 313.16 287.84 301.38 285.77 290.72 289.77 Z"/><path fill="white" opacity="1.00" d=" M 51.03 236.94 C 50.82 235.12 52.15 233.16 54.12 233.32 C 59.28 233.26 64.52 232.86 69.63 233.79 C 70.12 235.80 70.58 237.84 70.52 239.93 C 70.48 259.95 70.52 279.97 70.49 300.00 C 70.46 305.01 71.44 310.32 74.68 314.31 C 77.50 317.46 81.84 318.72 85.95 318.90 C 96.42 319.30 106.49 315.26 115.22 309.77 C 115.28 288.51 115.23 267.26 115.25 246.00 C 115.31 241.97 114.90 237.86 115.90 233.90 C 121.87 232.86 128.13 232.86 134.10 233.90 C 134.44 235.56 134.77 237.23 134.76 238.93 C 134.75 265.95 134.75 292.97 134.76 320.00 C 134.73 323.72 135.03 327.50 134.09 331.14 C 129.60 332.06 124.93 331.94 120.40 331.52 C 116.72 329.87 117.66 324.77 116.53 321.54 C 105.14 329.79 91.33 335.48 77.05 334.62 C 70.15 334.29 62.97 332.01 58.18 326.80 C 53.02 321.25 51.00 313.45 50.99 306.02 C 51.03 283.00 50.95 259.97 51.03 236.94 Z"/></g></svg>`,
    },
    default: {
      name: "NON-STEAM",
      gradient: "linear-gradient(135deg, #667eea 0%, #764ba2 100%)",
      icon: `<svg width="${width}" height="${height}" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg" > <!-- Steam-like core --> <circle cx="64" cy="64" r="26" fill="none" stroke="white" stroke-width="8" /> <circle cx="64" cy="64" r="10" fill="white" /> <!-- Plug connector --> <path d="M80 64 L88 64" stroke="white" stroke-width="6" stroke-linecap="round" /> <!-- Plug body --> <rect x="88" y="54" width="22" height="20" rx="4" fill="white" /> <!-- Plug prongs --> <line x1="110" y1="58" x2="118" y2="58" stroke="white" stroke-width="3" /> <line x1="110" y1="70" x2="118" y2="70" stroke="white" stroke-width="3" /></svg>`,
    },
  } as Record<string, BadgeStyleProps>;

  return (
    badgeStyles?.[gameStore]?.[prop] ||
    badgeStyles?.[GameStoreName.DEFAULT]?.[prop]
  );
}

export function getBadgeIcon(
  gameStore: GameStoreName,
  context: GameStoreContext,
): string {
  return getBadgeStyle(gameStore, GameStoreProp.ICON, context);
}
